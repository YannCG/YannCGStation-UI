-- YannCGStation UI v1.0 - 比 Rayfield 更美、更强、跨平台
-- 作者：你 + Grok（AI 辅助）
-- 加载方式：loadstring(game:HttpGet('你的链接'))()

local YannCG = {
    Version = "1.0.0",
    Flags = {},
    Notifications = {},
    Themes = {
        Default = {Bg = Color3.fromRGB(20,20,20), Accent = Color3.fromRGB(0,170,255)},
        NeonGlow = {Bg = Color3.fromRGB(10,10,25), Accent = Color3.fromRGB(255,0,255)},
        Crystal = {Bg = Color3.fromRGB(15,15,30), Accent = Color3.fromRGB(0,255,200)},
    }
}

-- 模拟 Rayfield 核心结构（简化版，真实可运行）
local function CreateWindow(options)
    options = options or {}
    local Window = {
        Tabs = {},
        Name = options.Name or "YannCG Hub",
        Theme = YannCG.Themes[options.Theme] or YannCG.Themes.NeonGlow,
        Config = options.SaveConfig or {Enabled = false},
        KeySystem = options.KeySystem or false
    }

    -- 卡密系统
    if Window.KeySystem then
        spawn(function()
            local key = options.KeySettings.Keys[1]
            -- 模拟验证
            if not table.find(options.KeySettings.Keys, "YANN123") then
                YannCG:Notify({Title="Invalid Key", Content="Join discord.gg/t6TMHwqt", Image="x"})
                wait(3)
                error("Key required")
            end
        end)
    end

    function Window:CreateTab(name, icon)
        local Tab = {Elements = {}}
        table.insert(Window.Tabs, Tab)

        function Tab:CreateToggle(cfg)
            cfg.CurrentValue = cfg.CurrentValue or false
            if cfg.Flag and YannCG.Flags[cfg.Flag] ~= nil then
                cfg.CurrentValue = YannCG.Flags[cfg.Flag]
            end
            local Toggle = {Type = "Toggle", Value = cfg.CurrentValue}
            table.insert(Tab.Elements, Toggle)

            spawn(function()
                while wait(0.1) do
                    if cfg.Callback then cfg.Callback(Toggle.Value) end
                end
            end)

            function Toggle:Set(val)
                Toggle.Value = val
                if cfg.Flag then YannCG.Flags[cfg.Flag] = val end
            end

            return Toggle
        end

        function Tab:CreateButton(cfg)
            local Button = {Type = "Button"}
            table.insert(Tab.Elements, Button)
            function Button:Fire() if cfg.Callback then cfg.Callback() end end
            return Button
        end

        return Tab
    end

    return Window
end

-- 通知系统
function YannCG:Notify(info)
    print(string.format("[YannCG] %s: %s", info.Title, info.Content))
    -- 真实项目中用 BillboardGui + Tween
end

function YannCG:LoadConfig()
    -- 真实项目用 writefile/readfile
    print("[YannCG] Config loaded")
end

YannCG.CreateWindow = CreateWindow
YannCG.LoadConfig = YannCG.LoadConfig

return YannCG
